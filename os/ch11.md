# 第11章 I/O管理和磁盘调度

I/O是操作系统设计中最困难的部分，因为存在许多不同种的设备和应用，很难有一种通用的解决方案。

## 11.1 I/O设备

参与I/O的外设可分为3类：

* 人可读：计算机与用户之间交互，如打印机，终端（显示器，键盘，鼠标）。
* 机器可读：与电子设备通信，如磁盘，USB，传感器。
* 通信：与远程设备通信，如调制解调器。

设备之间有很大差异，主要包括：

* 数据传送速率
* 传送单位
* 应用
* 控制的复杂性
* 数据表示
* 错误条件

## 11.2 I/O功能组织

执行I/O的三种技术：

* 程序控制I/O：处理器代表进程发送I/O命令后开始忙等，直到操作完成。
* 中断驱动I/O：处理器代表进程发送I/O命令。非阻塞：处理器可以继续执行进程的后续命令。阻塞：下一条指令来自操作系统调度。
* 直接存储访问（DMA）：处理器给DMA模块发送请求，只有在数据块传送结束后才被中断。

### 11.2.1 I/O功能的发展

1. 处理器直接控制外围设备
2. 增加控制器或I/O模块，处理器使用非中断程序控制I/O
3. 采用中断
4. I/O模块通过DMA控制存储器
5. I/O模块有单独的处理器，I/O通道
6. I/O模块有局部处理器，I/O处理器

### 11.2.2 DMA





## 11.5.2 磁盘调度策略

1. 随机调度：随机地从请求队列中选择项目，访问磁道。性能最差，只用来和其他策略对比。
2. 先进先出FIFO：公平
3. 优先级PRI：
4. 后进先出LIFO：
5. SCAN：电梯算法，改进LOOK算法
6. C-SCAN：
7. N步SCAN：
8. FSCAN：

## 11.6 RAID 独立磁盘冗余阵列

基本的有RAID0~6共7种，还有组合的RAID01和RAID10

RAID0



## 11.7 磁盘高速缓存

